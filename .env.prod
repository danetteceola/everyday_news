# 生产环境配置
# 复制此文件为 .env.prod 并根据实际情况修改

# 数据库配置
DATABASE_PATH=./data/everyday_news.db
BACKUP_PATH=./data/backups
MAX_CONNECTIONS=10
DATABASE_TIMEOUT=5000

# 备份配置
BACKUP_RETENTION_DAYS=7
BACKUP_COMPRESSION=true

# 性能配置
QUERY_CACHE_ENABLED=true
QUERY_CACHE_SIZE=1000
SLOW_QUERY_THRESHOLD=1000 # 毫秒

# 迁移配置
MIGRATION_TABLE_NAME=schema_migrations
MIGRATION_DIRECTORY=./src/db/migrations

# 系统架构模块配置

# 调度器配置
SCHEDULER_MAX_CONCURRENT_TASKS=3
SCHEDULER_TASK_TIMEOUT=300000

# 通知系统配置
# Telegram - 在生产环境需要实际配置
TELEGRAM_BOT_TOKEN=${TELEGRAM_BOT_TOKEN:-}
TELEGRAM_CHAT_ID=${TELEGRAM_CHAT_ID:-}

# Email - 在生产环境需要实际配置
SMTP_HOST=${SMTP_HOST:-}
SMTP_PORT=${SMTP_PORT:-587}
SMTP_USER=${SMTP_USER:-}
SMTP_PASS=${SMTP_PASS:-}
SMTP_SECURE=true
EMAIL_RECIPIENT=${EMAIL_RECIPIENT:-}

# Webhook - 可选配置
WEBHOOK_URL=${WEBHOOK_URL:-}
WEBHOOK_SECRET=${WEBHOOK_SECRET:-}

# 监控配置
MONITORING_COLLECTION_INTERVAL=60000
MONITORING_ALERT_THRESHOLD_COLLECTION_SUCCESS=80
MONITORING_ALERT_THRESHOLD_DATA_COMPLETENESS=90
MONITORING_ALERT_THRESHOLD_PERFORMANCE=2000 # 毫秒

# LLM配置 (Claude集成)
LLM_MODEL=claude-3-5-sonnet-20241022
LLM_TEMPERATURE=0.7
LLM_API_KEY=${LLM_API_KEY:-}
LLM_MAX_RETRIES=3
LLM_RETRY_DELAY=300000 # 5分钟，单位毫秒
LLM_CACHE_TTL=3600000 # 1小时，单位毫秒

# 日志配置
LOG_LEVEL=info
LOG_FILE=/app/logs/app.log
LOG_MAX_SIZE=10485760 # 10MB
LOG_MAX_FILES=10

# 系统配置
NODE_ENV=production
PORT=3000
HOST=0.0.0.0
MAX_REQUEST_SIZE=10485760 # 10MB
REQUEST_TIMEOUT=30000 # 30秒

# 健康检查配置
HEALTH_CHECK_INTERVAL=30000 # 30秒
HEALTH_CHECK_TIMEOUT=5000 # 5秒