# 开发环境配置
# 复制此文件为 .env.dev 并根据实际情况修改

# 数据库配置
DATABASE_PATH=./data/everyday_news_dev.db
BACKUP_PATH=./data/backups_dev
MAX_CONNECTIONS=2
DATABASE_TIMEOUT=1000

# 备份配置
BACKUP_RETENTION_DAYS=1
BACKUP_COMPRESSION=false

# 性能配置
QUERY_CACHE_ENABLED=false
QUERY_CACHE_SIZE=100
SLOW_QUERY_THRESHOLD=100 # 毫秒

# 迁移配置
MIGRATION_TABLE_NAME=schema_migrations
MIGRATION_DIRECTORY=./src/db/migrations

# 系统架构模块配置

# 调度器配置
SCHEDULER_MAX_CONCURRENT_TASKS=1
SCHEDULER_TASK_TIMEOUT=300000

# 通知系统配置
# Telegram - 开发环境可以禁用或使用模拟器
TELEGRAM_BOT_TOKEN=${TELEGRAM_BOT_TOKEN:-}
TELEGRAM_CHAT_ID=${TELEGRAM_CHAT_ID:-}

# Email - 开发环境可以使用MailHog或禁用
SMTP_HOST=${SMTP_HOST:-localhost}
SMTP_PORT=${SMTP_PORT:-1025}
SMTP_USER=${SMTP_USER:-}
SMTP_PASS=${SMTP_PASS:-}
SMTP_SECURE=false
EMAIL_RECIPIENT=${EMAIL_RECIPIENT:-developer@localhost}

# Webhook - 开发环境可以使用RequestBin或类似服务
WEBHOOK_URL=${WEBHOOK_URL:-}
WEBHOOK_SECRET=${WEBHOOK_SECRET:-}

# 监控配置
MONITORING_COLLECTION_INTERVAL=10000
MONITORING_ALERT_THRESHOLD_COLLECTION_SUCCESS=50
MONITORING_ALERT_THRESHOLD_DATA_COMPLETENESS=60
MONITORING_ALERT_THRESHOLD_PERFORMANCE=5000 # 毫秒

# LLM配置 (Claude集成)
LLM_MODEL=claude-3-haiku-20240307  # 使用更便宜的模型用于开发
LLM_TEMPERATURE=0.9
LLM_API_KEY=${LLM_API_KEY:-}
LLM_MAX_RETRIES=1
LLM_RETRY_DELAY=30000 # 30秒，单位毫秒
LLM_CACHE_TTL=900000 # 15分钟，单位毫秒

# 日志配置
LOG_LEVEL=debug
LOG_FILE=./logs/app_dev.log
LOG_MAX_SIZE=2097152 # 2MB
LOG_MAX_FILES=3

# 系统配置
NODE_ENV=development
PORT=3002
HOST=0.0.0.0
MAX_REQUEST_SIZE=2097152 # 2MB
REQUEST_TIMEOUT=120000 # 120秒

# 健康检查配置
HEALTH_CHECK_INTERVAL=120000 # 120秒
HEALTH_CHECK_TIMEOUT=30000 # 30秒

# 开发特定配置
DEBUG=true
AUTO_RELOAD=true
WATCH_MODE=true